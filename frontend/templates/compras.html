<!-- frontend/templates/compras.html -->
{% extends "base.html" %}

{% block title %}Gesti√≥n de Compras{% endblock %}

{% block content %}
<main>
    <h1>Gesti√≥n de Compras</h1>

    <!-- üì¶ Formulario para registrar o editar compra -->
    <section>
        <h2>Registrar Compra</h2>
        <form id="purchaseForm">
            <input type="hidden" id="purchase_id"> <!-- Para modo edici√≥n -->

            <label for="product_id">C√≥digo del Producto:</label>
            <input type="text" id="product_id" required><br>

            <label for="quantity">Cantidad Comprada:</label>
            <input type="number" id="quantity" required min="1"><br>

            <label for="price">Precio Unitario:</label>
            <input type="number" id="price" step="0.01" required min="0"><br>

            <button type="submit">Guardar Compra</button>
        </form>

        <div id="message" style="margin-top: 1rem;"></div>
    </section>

    <hr>

    <!-- üîç Filtros de b√∫squeda -->
    <section>
        <h2>Buscar Compras</h2>
        <input type="text" id="busquedaProductoCompra" placeholder="Buscar por c√≥digo">
        <input type="number" id="busquedaCantidadCompra" placeholder="Buscar por cantidad">
        <input type="number" id="busquedaPrecioCompra" placeholder="Buscar por precio">
    </section>

    <hr>

    <!-- üìã Tabla de compras -->
    <section>
        <h2>Listado de Compras</h2>
        <table id="tablaCompras" border="1" style="width: 100%; text-align: left;">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Cantidad</th>
                    <th>Precio</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <!-- Se llena din√°micamente con JS -->
            </tbody>
        </table>
    </section>
</main>

<!-- üß™ SweetAlert2 CDN -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- ‚úÖ Script correcto desde frontend/js/compras.js -->
<script src="/static/js/compras.js"></script>
{% endblock %}
